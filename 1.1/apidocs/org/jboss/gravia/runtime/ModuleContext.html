<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Jan 27 08:46:26 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ModuleContext (Gravia 1.1.0.Beta3 API)</title>
<meta name="date" content="2014-01-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ModuleContext (Gravia 1.1.0.Beta3 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ModuleContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jboss/gravia/runtime/ModuleActivatorBridge.html" title="class in org.jboss.gravia.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jboss/gravia/runtime/ModuleEvent.html" title="class in org.jboss.gravia.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jboss/gravia/runtime/ModuleContext.html" target="_top">Frames</a></li>
<li><a href="ModuleContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.jboss.gravia.runtime</div>
<h2 title="Interface ModuleContext" class="title">Interface ModuleContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/jboss/gravia/runtime/spi/AbstractModuleContext.html" title="class in org.jboss.gravia.runtime.spi">AbstractModuleContext</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">ModuleContext</span></pre>
<div class="block">A module's execution context within the Runtime. The context is used to
 grant access to other methods so that this module can interact with the
 Runtime.

 <p>
 <code>ModuleContext</code> methods allow a module to:
 <ul>
 <li>Subscribe to events published by the Runtime.
 <li>Register service objects with the Runtime service registry.
 <li>Retrieve <code>ServiceReferences</code> from the Runtime service registry.
 <li>Get and release service objects for a referenced service.
 <li>Create <code>File</code> objects for files in a persistent storage area provided for the module by the Runtime.
 </ul>

 <p>
 A <code>ModuleContext</code> object will be created for a module when the module
 is started. The <code>Module</code> object associated with a <code>ModuleContext</code>
 object is called the <em>context module</em>.

 <p>
 The <code>ModuleContext</code> object will be passed to the
 <a href="../../../../org/jboss/gravia/runtime/ModuleActivator.html#start(org.jboss.gravia.runtime.ModuleContext)"><code>ModuleActivator.start(ModuleContext)</code></a> method during activation of the
 context module. The same <code>ModuleContext</code> object will be passed to the
 <a href="../../../../org/jboss/gravia/runtime/ModuleActivator.html#stop(org.jboss.gravia.runtime.ModuleContext)"><code>ModuleActivator.stop(ModuleContext)</code></a> method when the context module is
 stopped. A <code>ModuleContext</code> object is generally for the private use of
 its associated module and is not meant to be shared with other modules in the
 environment.

 <p>
 The <code>ModuleContext</code> object is only valid during the execution of its
 context module; that is, during the period from when the context module is in
 the <code>STARTING</code>, <code>STOPPING</code>, and <code>ACTIVE</code> module states. If
 the <code>ModuleContext</code> object is used subsequently, an
 <code>IllegalStateException</code> must be thrown. The <code>ModuleContext</code>
 object must never be reused after its context module is stopped.

 <p>
 Two <code>ModuleContext</code> objects are equal if they both refer to the same
 execution context of a module. The Runtime is the only entity that can
 create <code>ModuleContext</code> objects and they are only valid within the
 Runtime that created them.

 <p>
 A <a href="../../../../org/jboss/gravia/runtime/Module.html" title="interface in org.jboss.gravia.runtime"><code>Module</code></a> can be <a href="../../../../org/jboss/gravia/runtime/Module.html#adapt(java.lang.Class)"><code>adapted</code></a> to its
 <code>ModuleContext</code>.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>27-Sep-2013</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>thomas.diesler@jboss.com</dd>
<dt><span class="strong">Thread Safety: Thread Safe</span></dt>
  <dd></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#addModuleListener(org.jboss.gravia.runtime.ModuleListener)">addModuleListener</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ModuleListener.html" title="interface in org.jboss.gravia.runtime">ModuleListener</a>&nbsp;listener)</code>
<div class="block">Adds the specified <code>ModuleListener</code> object to the context module's
 list of listeners if not already present.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#addServiceListener(org.jboss.gravia.runtime.ServiceListener)">addServiceListener</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener)</code>
<div class="block">Adds the specified <code>ServiceListener</code> object to the context module's
 list of listeners.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#addServiceListener(org.jboss.gravia.runtime.ServiceListener, java.lang.String)">addServiceListener</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</code>
<div class="block">Adds the specified <code>ServiceListener</code> object with the specified
 <code>filter</code> to the context module's list of listeners.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime">Filter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#createFilter(java.lang.String)">createFilter</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</code>
<div class="block">Creates a <code>Filter</code> object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getAllServiceReferences(java.lang.String, java.lang.String)">getAllServiceReferences</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
                       <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</code>
<div class="block">Returns an array of <code>ServiceReference</code> objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/Module.html" title="interface in org.jboss.gravia.runtime">Module</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getModule()">getModule</a></strong>()</code>
<div class="block">Get the module associated with this context</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&lt;S&gt;&nbsp;S</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getService(org.jboss.gravia.runtime.ServiceReference)">getService</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;&nbsp;reference)</code>
<div class="block">Returns the service object referenced by the specified
 <code>ServiceReference</code> object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;S&gt;&nbsp;<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReference(java.lang.Class)">getServiceReference</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz)</code>
<div class="block">Returns a <code>ServiceReference</code> object for a service that implements
 and was registered under the name of the specified class.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReference(java.lang.String)">getServiceReference</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className)</code>
<div class="block">Returns a <code>ServiceReference</code> object for a service that implements
 and was registered under the specified class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;S&gt;&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.Class, java.lang.String)">getServiceReferences</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</code>
<div class="block">Returns a collection of <code>ServiceReference</code> objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;[]</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.String, java.lang.String)">getServiceReferences</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</code>
<div class="block">Returns an array of <code>ServiceReference</code> objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&lt;S&gt;&nbsp;<a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;S&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.Class, S, java.util.Dictionary)">registerService</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz,
               S&nbsp;service,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</code>
<div class="block">Registers the specified service object with the specified properties
 under the name of the specified class with the Runtime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String[], java.lang.Object, java.util.Dictionary)">registerService</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;classNames,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;service,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</code>
<div class="block">Registers the specified service object with the specified properties
 under the specified class names into the Runtime.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;?&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String, java.lang.Object, java.util.Dictionary)">registerService</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;service,
               <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</code>
<div class="block">Registers the specified service object with the specified properties
 under the specified class name with the Runtime.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#removeModuleListener(org.jboss.gravia.runtime.ModuleListener)">removeModuleListener</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ModuleListener.html" title="interface in org.jboss.gravia.runtime">ModuleListener</a>&nbsp;listener)</code>
<div class="block">Removes the specified <code>ModuleListener</code> object from the context
 module's list of listeners.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#removeServiceListener(org.jboss.gravia.runtime.ServiceListener)">removeServiceListener</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener)</code>
<div class="block">Removes the specified <code>ServiceListener</code> object from the context
 module's list of listeners.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#ungetService(org.jboss.gravia.runtime.ServiceReference)">ungetService</a></strong>(<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;&nbsp;reference)</code>
<div class="block">Releases the service object referenced by the specified
 <code>ServiceReference</code> object.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getModule()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getModule</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/Module.html" title="interface in org.jboss.gravia.runtime">Module</a>&nbsp;getModule()</pre>
<div class="block">Get the module associated with this context</div>
</li>
</ul>
<a name="createFilter(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createFilter</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime">Filter</a>&nbsp;createFilter(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</pre>
<div class="block">Creates a <code>Filter</code> object. This <code>Filter</code> object may be used
 to match a <code>ServiceReference</code> object or a <code>Dictionary</code>
 object.

 <p>
 If the filter cannot be parsed, an <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> will be
 thrown with a human readable message where the filter became unparsable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filter</code> - The filter string.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>Filter</code> object encapsulating the filter string.</dd></dl>
</li>
</ul>
<a name="addModuleListener(org.jboss.gravia.runtime.ModuleListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addModuleListener</h4>
<pre>void&nbsp;addModuleListener(<a href="../../../../org/jboss/gravia/runtime/ModuleListener.html" title="interface in org.jboss.gravia.runtime">ModuleListener</a>&nbsp;listener)</pre>
<div class="block">Adds the specified <code>ModuleListener</code> object to the context module's
 list of listeners if not already present. ModuleListener objects are
 notified when a module has a lifecycle state change.

 <p>
 If the context module's list of listeners already contains a listener
 <code>l</code> such that <code>(l==listener)</code>, this method does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The <code>ModuleListener</code> to be added.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleEvent.html" title="class in org.jboss.gravia.runtime"><code>ModuleEvent</code></a>, 
<a href="../../../../org/jboss/gravia/runtime/ModuleListener.html" title="interface in org.jboss.gravia.runtime"><code>ModuleListener</code></a></dd></dl>
</li>
</ul>
<a name="removeModuleListener(org.jboss.gravia.runtime.ModuleListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeModuleListener</h4>
<pre>void&nbsp;removeModuleListener(<a href="../../../../org/jboss/gravia/runtime/ModuleListener.html" title="interface in org.jboss.gravia.runtime">ModuleListener</a>&nbsp;listener)</pre>
<div class="block">Removes the specified <code>ModuleListener</code> object from the context
 module's list of listeners.

 <p>
 If <code>listener</code> is not contained in the context module's list of
 listeners, this method does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The <code>ModuleListener</code> object to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd></dl>
</li>
</ul>
<a name="addServiceListener(org.jboss.gravia.runtime.ServiceListener, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addServiceListener</h4>
<pre>void&nbsp;addServiceListener(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</pre>
<div class="block">Adds the specified <code>ServiceListener</code> object with the specified
 <code>filter</code> to the context module's list of listeners. See
 <a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime"><code>Filter</code></a> for a description of the filter syntax.
 <code>ServiceListener</code> objects are notified when a service has a
 lifecycle state change.

 <p>
 If the context module's list of listeners already contains a listener
 <code>l</code> such that <code>(l==listener)</code>, then this method replaces that
 listener's filter (which may be <code>null</code>) with the specified one
 (which may be <code>null</code>).

 <p>
 The listener is called if the filter criteria is met. To filter based
 upon the class of the service, the filter should reference the
 <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>Constants.OBJECTCLASS</code></a> property. If <code>filter</code> is <code>null</code>
 , all services are considered to match the filter.

 <p>
 When using a <code>filter</code>, it is possible that the <code>ServiceEvent</code>
 s for the complete lifecycle of a service will not be delivered to the
 listener. For example, if the <code>filter</code> only matches when the
 property <code>x</code> has the value <code>1</code>, the listener will not be
 called if the service is registered with the property <code>x</code> not set
 to the value <code>1</code>. Subsequently, when the service is modified
 setting property <code>x</code> to the value <code>1</code>, the filter will match
 and the listener will be called with a <code>ServiceEvent</code> of type
 <code>MODIFIED</code>. Thus, the listener will not be called with a
 <code>ServiceEvent</code> of type <code>REGISTERED</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The <code>ServiceListener</code> object to be added.</dd><dd><code>filter</code> - The filter criteria.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If <code>filter</code> contains an invalid
         filter string that cannot be parsed.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ServiceEvent.html" title="class in org.jboss.gravia.runtime"><code>ServiceEvent</code></a>, 
<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime"><code>ServiceListener</code></a></dd></dl>
</li>
</ul>
<a name="addServiceListener(org.jboss.gravia.runtime.ServiceListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addServiceListener</h4>
<pre>void&nbsp;addServiceListener(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener)</pre>
<div class="block">Adds the specified <code>ServiceListener</code> object to the context module's
 list of listeners.

 <p>
 This method is the same as calling
 <code>ModuleContext.addServiceListener(ServiceListener listener,
 String filter)</code> with <code>filter</code> set to <code>null</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The <code>ServiceListener</code> object to be added.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#addServiceListener(org.jboss.gravia.runtime.ServiceListener, java.lang.String)"><code>addServiceListener(ServiceListener, String)</code></a></dd></dl>
</li>
</ul>
<a name="removeServiceListener(org.jboss.gravia.runtime.ServiceListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeServiceListener</h4>
<pre>void&nbsp;removeServiceListener(<a href="../../../../org/jboss/gravia/runtime/ServiceListener.html" title="interface in org.jboss.gravia.runtime">ServiceListener</a>&nbsp;listener)</pre>
<div class="block">Removes the specified <code>ServiceListener</code> object from the context
 module's list of listeners.

 <p>
 If <code>listener</code> is not contained in this context module's list of
 listeners, this method does nothing.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - The <code>ServiceListener</code> to be removed.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd></dl>
</li>
</ul>
<a name="registerService(java.lang.Class,java.lang.Object,java.util.Dictionary)">
<!--   -->
</a><a name="registerService(java.lang.Class, S, java.util.Dictionary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerService</h4>
<pre>&lt;S&gt;&nbsp;<a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;S&gt;&nbsp;registerService(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz,
                                         S&nbsp;service,
                                         <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</pre>
<div class="block">Registers the specified service object with the specified properties
 under the name of the specified class with the Runtime.

 <p>
 This method is otherwise identical to
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String, java.lang.Object, java.util.Dictionary)"><code>registerService(String, Object, Dictionary)</code></a> and is provided to
 return a type safe <code>ServiceRegistration</code>.</div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>S</code> - Type of Service.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>clazz</code> - The class under whose name the service can be located.</dd><dd><code>service</code> - The service object or a <code>ServiceFactory</code> object.</dd><dd><code>properties</code> - The properties for this service.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>ServiceRegistration</code> object for use by the module
         registering the service to update the service's properties or to
         unregister the service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String, java.lang.Object, java.util.Dictionary)"><code>registerService(String, Object, Dictionary)</code></a></dd></dl>
</li>
</ul>
<a name="registerService(java.lang.String, java.lang.Object, java.util.Dictionary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerService</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;?&gt;&nbsp;registerService(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;service,
                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</pre>
<div class="block">Registers the specified service object with the specified properties
 under the specified class name with the Runtime.

 <p>
 This method is otherwise identical to
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String[], java.lang.Object, java.util.Dictionary)"><code>registerService(String[], Object, Dictionary)</code></a> and is provided as
 a convenience when <code>service</code> will only be registered under a single
 class name. Note that even in this case the value of the service's
 <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>Constants.OBJECTCLASS</code></a> property will be an array of string, rather
 than just a single string.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - The class name under which the service can be located.</dd><dd><code>service</code> - The service object or a <code>ServiceFactory</code> object.</dd><dd><code>properties</code> - The properties for this service.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>ServiceRegistration</code> object for use by the module
         registering the service to update the service's properties or to
         unregister the service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#registerService(java.lang.String[], java.lang.Object, java.util.Dictionary)"><code>registerService(String[], Object, Dictionary)</code></a></dd></dl>
</li>
</ul>
<a name="registerService(java.lang.String[], java.lang.Object, java.util.Dictionary)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerService</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime">ServiceRegistration</a>&lt;?&gt;&nbsp;registerService(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;classNames,
                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;service,
                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util">Dictionary</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,?&gt;&nbsp;properties)</pre>
<div class="block">Registers the specified service object with the specified properties
 under the specified class names into the Runtime. A
 <code>ServiceRegistration</code> object is returned. The
 <code>ServiceRegistration</code> object is for the private use of the module
 registering the service and should not be shared with other modules. The
 registering module is defined to be the context module.

 <p>
 A module can register a service object that implements the
 <a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html" title="interface in org.jboss.gravia.runtime"><code>ServiceFactory</code></a> interface to have more flexibility in providing
 service objects to other modules.

 <p>
 The following steps are required to register a service:
 <ol>
 <li>If <code>service</code> is not a <code>ServiceFactory</code>, an
 <code>IllegalArgumentException</code> is thrown if <code>service</code> is not an
 <code>instanceof</code> all the specified class names.
 <li>The Runtime adds the following service properties to the service
 properties from the specified <code>Dictionary</code> (which may be
 <code>null</code>): <br/>
 A property named <a href="../../../../org/jboss/gravia/Constants.html#SERVICE_ID"><code>Constants.SERVICE_ID</code></a> identifying the
 registration number of the service <br/>
 A property named <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>Constants.OBJECTCLASS</code></a> containing all the
 specified classes. <br/>
 Properties with these names in the specified <code>Dictionary</code> will be
 ignored.
 <li>The service is added to the Runtime service registry and may now be
 used by other modules.
 <li>A service event of type <a href="../../../../org/jboss/gravia/runtime/ServiceEvent.html#REGISTERED"><code>ServiceEvent.REGISTERED</code></a> is fired.
 <li>A <code>ServiceRegistration</code> object for this registration is
 returned.
 </ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>classNames</code> - The class names under which the service can be located.
        The class names in this array will be stored in the service's
        properties under the key <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>Constants.OBJECTCLASS</code></a>.</dd><dd><code>service</code> - The service object or a <code>ServiceFactory</code> object.</dd><dd><code>properties</code> - The properties for this service. The keys in the
        properties object must all be <code>String</code> objects. See
        <a href="../../../../org/jboss/gravia/Constants.html" title="interface in org.jboss.gravia"><code>Constants</code></a> for a list of standard service property keys.
        Changes should not be made to this object after calling this
        method. To update the service's properties the
        <a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html#setProperties(java.util.Dictionary)"><code>ServiceRegistration.setProperties(Dictionary)</code></a> method must
        be called. The set of properties may be <code>null</code> if the
        service has no properties.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>ServiceRegistration</code> object for use by the module
         registering the service to update the service's properties or to
         unregister the service.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If one of the following is true:
         <ul>
         <li><code>service</code> is <code>null</code>. <li><code>service</code> is not a
         <code>ServiceFactory</code> object and is not an instance of all the
         named classes in <code>clazzes</code>. <li> <code>properties</code>
         contains case variants of the same key name.
         </ul></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ServiceRegistration.html" title="interface in org.jboss.gravia.runtime"><code>ServiceRegistration</code></a>, 
<a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html" title="interface in org.jboss.gravia.runtime"><code>ServiceFactory</code></a></dd></dl>
</li>
</ul>
<a name="getServiceReference(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceReference</h4>
<pre>&lt;S&gt;&nbsp;<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;&nbsp;getServiceReference(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz)</pre>
<div class="block">Returns a <code>ServiceReference</code> object for a service that implements
 and was registered under the name of the specified class.

 <p>
 The returned <code>ServiceReference</code> object is valid at the time of the
 call to this method. However as the Runtime is a very dynamic
 environment, services can be modified or unregistered at any time.

 <p>
 This method is the same as calling
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.Class, java.lang.String)"><code>getServiceReferences(Class, String)</code></a> with a <code>null</code> filter
 expression. It is provided as a convenience for when the caller is
 interested in any service that implements the specified class.
 <p>
 If multiple such services exist, the service with the highest ranking (as
 specified in its <a href="../../../../org/jboss/gravia/Constants.html#SERVICE_RANKING"><code>Constants.SERVICE_RANKING</code></a> property) is returned.
 <p>
 If there is a tie in ranking, the service with the lowest service ID (as
 specified in its <a href="../../../../org/jboss/gravia/Constants.html#SERVICE_ID"><code>Constants.SERVICE_ID</code></a> property); that is, the
 service that was registered first is returned.</div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>S</code> - Type of Service.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>clazz</code> - The class under whose name the service was registered. Must
        not be <code>null</code>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>ServiceReference</code> object, or <code>null</code> if no services
         are registered which implement the specified class.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.Class, java.lang.String)"><code>getServiceReferences(Class, String)</code></a></dd></dl>
</li>
</ul>
<a name="getServiceReference(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceReference</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;&nbsp;getServiceReference(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className)</pre>
<div class="block">Returns a <code>ServiceReference</code> object for a service that implements
 and was registered under the specified class.

 <p>
 The returned <code>ServiceReference</code> object is valid at the time of the
 call to this method. However as the Runtime is a very dynamic
 environment, services can be modified or unregistered at any time.

 <p>
 This method is the same as calling
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.String, java.lang.String)"><code>getServiceReferences(String, String)</code></a> with a <code>null</code> filter
 expression and then finding the reference with the highest priority. It
 is provided as a convenience for when the caller is interested in any
 service that implements the specified class.
 <p>
 If multiple such services exist, the service with the highest priority is
 selected. This priority is defined as the service reference with the
 highest ranking (as specified in its <a href="../../../../org/jboss/gravia/Constants.html#SERVICE_RANKING"><code>Constants.SERVICE_RANKING</code></a>
 property) is returned.
 <p>
 If there is a tie in ranking, the service with the lowest service ID (as
 specified in its <a href="../../../../org/jboss/gravia/Constants.html#SERVICE_ID"><code>Constants.SERVICE_ID</code></a> property); that is, the
 service that was registered first is returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - The class name with which the service was registered.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A <code>ServiceReference</code> object, or <code>null</code> if no services
         are registered which implement the named class.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getServiceReferences(java.lang.String, java.lang.String)"><code>getServiceReferences(String, String)</code></a></dd></dl>
</li>
</ul>
<a name="getServiceReferences(java.lang.Class, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceReferences</h4>
<pre>&lt;S&gt;&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;&gt;&nbsp;getServiceReferences(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;S&gt;&nbsp;clazz,
                                                       <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</pre>
<div class="block">Returns a collection of <code>ServiceReference</code> objects. The returned
 collection of <code>ServiceReference</code> objects contains services that
 were registered under the name of the specified class, match the
 specified filter expression, and the packages for the class names under
 which the services were registered match the context module's packages as
 defined in <a href="../../../../org/jboss/gravia/runtime/ServiceReference.html#isAssignableTo(org.jboss.gravia.runtime.Module, java.lang.String)"><code>ServiceReference.isAssignableTo(Module, String)</code></a>.

 <p>
 The collection is valid at the time of the call to this method. However
 since the Runtime is a very dynamic environment, services can be
 modified or unregistered at any time.

 <p>
 The specified <code>filter</code> expression is used to select the registered
 services whose service properties contain keys and values which satisfy
 the filter expression. See <a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime"><code>Filter</code></a> for a description of the filter
 syntax. If the specified <code>filter</code> is <code>null</code>, all registered
 services are considered to match the filter. If the specified
 <code>filter</code> expression cannot be parsed, an
 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> will be thrown with a human readable
 message where the filter became unparsable.

 <p>
 The result is a collection of <code>ServiceReference</code> objects for all
 services that meet all of the following conditions:
 <ul>
 <li>The service must have been registered with the name of the specified
 class. The complete list of class names with which a service was
 registered is available from the service's <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>objectClass</code></a> property.
 <li>If the specified <code>filter</code> is not <code>null</code>, the filter
 expression must match the service.
 <li>For each class name with which the service was registered, calling
 <a href="../../../../org/jboss/gravia/runtime/ServiceReference.html#isAssignableTo(org.jboss.gravia.runtime.Module, java.lang.String)"><code>ServiceReference.isAssignableTo(Module, String)</code></a> with the context
 module and the class name on the service's <code>ServiceReference</code>
 object must return <code>true</code>
 </ul></div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>S</code> - Type of Service</dd><dt><span class="strong">Parameters:</span></dt><dd><code>clazz</code> - The class under whose name the service was registered. Must
        not be <code>null</code>.</dd><dd><code>filter</code> - The filter expression or <code>null</code> for all services.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A collection of <code>ServiceReference</code> objects. May be empty if
         no services are registered which satisfy the search.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the specified <code>filter</code> contains
         an invalid filter expression that cannot be parsed.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd></dl>
</li>
</ul>
<a name="getServiceReferences(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getServiceReferences</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;[]&nbsp;getServiceReferences(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
                                         <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</pre>
<div class="block">Returns an array of <code>ServiceReference</code> objects. The returned array
 of <code>ServiceReference</code> objects contains services that were
 registered under the specified class, match the specified filter
 expression, and the packages for the class names under which the services
 were registered match the context module's packages as defined in
 <a href="../../../../org/jboss/gravia/runtime/ServiceReference.html#isAssignableTo(org.jboss.gravia.runtime.Module, java.lang.String)"><code>ServiceReference.isAssignableTo(Module, String)</code></a>.

 <p>
 The list is valid at the time of the call to this method. However since
 the Runtime is a very dynamic environment, services can be modified or
 unregistered at any time.

 <p>
 The specified <code>filter</code> expression is used to select the registered
 services whose service properties contain keys and values which satisfy
 the filter expression. See <a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime"><code>Filter</code></a> for a description of the filter
 syntax. If the specified <code>filter</code> is <code>null</code>, all registered
 services are considered to match the filter. If the specified
 <code>filter</code> expression cannot be parsed, an
 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> will be thrown with a human readable
 message where the filter became unparsable.

 <p>
 The result is an array of <code>ServiceReference</code> objects for all
 services that meet all of the following conditions:
 <ul>
 <li>If the specified class name, <code>clazz</code>, is not <code>null</code>, the
 service must have been registered with the specified class name. The
 complete list of class names with which a service was registered is
 available from the service's <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>objectClass</code></a>
 property.
 <li>If the specified <code>filter</code> is not <code>null</code>, the filter
 expression must match the service.
 <li>For each class name with which the service was registered, calling
 <a href="../../../../org/jboss/gravia/runtime/ServiceReference.html#isAssignableTo(org.jboss.gravia.runtime.Module, java.lang.String)"><code>ServiceReference.isAssignableTo(Module, String)</code></a> with the context
 module and the class name on the service's <code>ServiceReference</code>
 object must return <code>true</code>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - The class name with which the service was registered or
        <code>null</code> for all services.</dd><dd><code>filter</code> - The filter expression or <code>null</code> for all services.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An array of <code>ServiceReference</code> objects or <code>null</code> if
         no services are registered which satisfy the search.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the specified <code>filter</code> contains
         an invalid filter expression that cannot be parsed.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd></dl>
</li>
</ul>
<a name="getAllServiceReferences(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllServiceReferences</h4>
<pre><a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;[]&nbsp;getAllServiceReferences(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;className,
                                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filter)</pre>
<div class="block">Returns an array of <code>ServiceReference</code> objects. The returned array
 of <code>ServiceReference</code> objects contains services that were
 registered under the specified class and match the specified filter
 expression.

 <p>
 The list is valid at the time of the call to this method. However since
 the Runtime is a very dynamic environment, services can be modified or
 unregistered at any time.

 <p>
 The specified <code>filter</code> expression is used to select the registered
 services whose service properties contain keys and values which satisfy
 the filter expression. See <a href="../../../../org/jboss/gravia/runtime/Filter.html" title="interface in org.jboss.gravia.runtime"><code>Filter</code></a> for a description of the filter
 syntax. If the specified <code>filter</code> is <code>null</code>, all registered
 services are considered to match the filter. If the specified
 <code>filter</code> expression cannot be parsed, an
 <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang"><code>IllegalArgumentException</code></a> will be thrown with a human readable
 message where the filter became unparsable.

 <p>
 The result is an array of <code>ServiceReference</code> objects for all
 services that meet all of the following conditions:
 <ul>
 <li>If the specified class name, <code>clazz</code>, is not <code>null</code>, the
 service must have been registered with the specified class name. The
 complete list of class names with which a service was registered is
 available from the service's <a href="../../../../org/jboss/gravia/Constants.html#OBJECTCLASS"><code>objectClass</code></a>
 property.
 <li>If the specified <code>filter</code> is not <code>null</code>, the filter
 expression must match the service.
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>className</code> - The class name with which the service was registered or
        <code>null</code> for all services.</dd><dd><code>filter</code> - The filter expression or <code>null</code> for all services.</dd>
<dt><span class="strong">Returns:</span></dt><dd>An array of <code>ServiceReference</code> objects or <code>null</code> if
         no services are registered which satisfy the search.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the specified <code>filter</code> contains
         an invalid filter expression that cannot be parsed.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd></dl>
</li>
</ul>
<a name="getService(org.jboss.gravia.runtime.ServiceReference)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getService</h4>
<pre>&lt;S&gt;&nbsp;S&nbsp;getService(<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;S&gt;&nbsp;reference)</pre>
<div class="block">Returns the service object referenced by the specified
 <code>ServiceReference</code> object.
 <p>
 A module's use of a service is tracked by the module's use count of that
 service. Each time a service's service object is returned by
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getService(org.jboss.gravia.runtime.ServiceReference)"><code>getService(ServiceReference)</code></a> the context module's use count for
 that service is incremented by one. Each time the service is released by
 <a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#ungetService(org.jboss.gravia.runtime.ServiceReference)"><code>ungetService(ServiceReference)</code></a> the context module's use count
 for that service is decremented by one.
 <p>
 When a module's use count for a service drops to zero, the module should
 no longer use that service.

 <p>
 This method will always return <code>null</code> when the service associated
 with this <code>reference</code> has been unregistered.

 <p>
 The following steps are required to get the service object:
 <ol>
 <li>If the service has been unregistered, <code>null</code> is returned.
 <li>If the context module's use count for the service is currently zero
 and the service was registered with an object implementing the
 <code>ServiceFactory</code> interface, the
 <a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html#getService(org.jboss.gravia.runtime.Module, org.jboss.gravia.runtime.ServiceRegistration)"><code>ServiceFactory.getService(Module, ServiceRegistration)</code></a> method is
 called to create a service object for the context module. If the service
 object returned by the <code>ServiceFactory</code> object is <code>null</code>, not
 an <code>instanceof</code> all the classes named when the service was
 registered or the <code>ServiceFactory</code> object throws an exception or
 will be recursively called for the context module, <code>null</code> is
 returned.
 <br>
 This service object is cached by the Runtime. While the context
 module's use count for the service is greater than zero, subsequent calls
 to get the services's service object for the context module will return
 the cached service object.
 <li>The context module's use count for this service is incremented by
 one.
 <li>The service object for the service is returned.
 </ol></div>
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>S</code> - Type of Service.</dd><dt><span class="strong">Parameters:</span></dt><dd><code>reference</code> - A reference to the service.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A service object for the service associated with
         <code>reference</code> or <code>null</code> if the service is not
         registered, the service object returned by a
         <code>ServiceFactory</code> does not implement the classes under which
         it was registered or the <code>ServiceFactory</code> threw an
         exception.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the specified
         <code>ServiceReference</code> was not created by the same framework
         instance as this <code>ModuleContext</code>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#ungetService(org.jboss.gravia.runtime.ServiceReference)"><code>ungetService(ServiceReference)</code></a>, 
<a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html" title="interface in org.jboss.gravia.runtime"><code>ServiceFactory</code></a></dd></dl>
</li>
</ul>
<a name="ungetService(org.jboss.gravia.runtime.ServiceReference)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ungetService</h4>
<pre>boolean&nbsp;ungetService(<a href="../../../../org/jboss/gravia/runtime/ServiceReference.html" title="interface in org.jboss.gravia.runtime">ServiceReference</a>&lt;?&gt;&nbsp;reference)</pre>
<div class="block">Releases the service object referenced by the specified
 <code>ServiceReference</code> object. If the context module's use count for
 the service is zero, this method returns <code>false</code>. Otherwise, the
 context module's use count for the service is decremented by one.

 <p>
 The service's service object should no longer be used and all references
 to it should be destroyed when a module's use count for the service drops
 to zero.

 <p>
 The following steps are required to unget the service object:
 <ol>
 <li>If the context module's use count for the service is zero or the
 service has been unregistered, <code>false</code> is returned.
 <li>The context module's use count for this service is decremented by
 one.
 <li>If the context module's use count for the service is currently zero
 and the service was registered with a <code>ServiceFactory</code> object, the
 <a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html#ungetService(org.jboss.gravia.runtime.Module, org.jboss.gravia.runtime.ServiceRegistration, S)"><code>ServiceFactory.ungetService(Module, ServiceRegistration, Object)</code></a>
 method is called to release the service object for the context module.
 <li><code>true</code> is returned.
 </ol></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reference</code> - A reference to the service to be released.</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>false</code> if the context module's use count for the service
         is zero or if the service has been unregistered; <code>true</code>
         otherwise.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - If this ModuleContext is no longer valid.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - If the specified
         <code>ServiceReference</code> was not created by the same framework
         instance as this <code>ModuleContext</code>.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/jboss/gravia/runtime/ModuleContext.html#getService(org.jboss.gravia.runtime.ServiceReference)"><code>getService(ServiceReference)</code></a>, 
<a href="../../../../org/jboss/gravia/runtime/ServiceFactory.html" title="interface in org.jboss.gravia.runtime"><code>ServiceFactory</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ModuleContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/jboss/gravia/runtime/ModuleActivatorBridge.html" title="class in org.jboss.gravia.runtime"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/jboss/gravia/runtime/ModuleEvent.html" title="class in org.jboss.gravia.runtime"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/jboss/gravia/runtime/ModuleContext.html" target="_top">Frames</a></li>
<li><a href="ModuleContext.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014 <a href="http://www.jboss.org">JBoss by Red Hat</a>. All Rights Reserved.</small></p>
</body>
</html>
